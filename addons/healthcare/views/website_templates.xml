<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="mch_homepage_template" name="MCH Homepage">
        <t t-call="website.layout">
            <div class="container mt-4">
                <h1>Maternal and Child Health Services</h1>
                
                <div class="row mt-4">
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-body">
                                <h3 class="card-title">For Patients</h3>
                                <p class="card-text">
                                    Access your health records, view upcoming appointments, 
                                    and check vaccination schedules.
                                </p>
                                <a href="/web/login" class="btn btn-primary">Patient Login</a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-body">
                                <h3 class="card-title">For Providers</h3>
                                <p class="card-text">
                                    Healthcare professionals can sign up to provide services 
                                    through our network.
                                </p>
                                <a href="/mch/provider/signup" class="btn btn-primary">Provider Signup</a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="row mt-4">
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="card-title">Our Services</h4>
                                <ul>
                                    <li>Prenatal Care</li>
                                    <li>Child Vaccinations</li>
                                    <li>Health Education</li>
                                    <li>Nutrition Counseling</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="card-title">Find a Provider</h4>
                                <p>Browse our network of qualified healthcare providers.</p>
                                <a href="/mch/providers" class="btn btn-secondary">View Providers</a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="card-title">Our Facilities</h4>
                                <p>Locate our healthcare facilities near you.</p>
                                <a href="/mch/facilities" class="btn btn-secondary">View Facilities</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <template id="provider_list_template" name="Provider List">
        <t t-call="website.layout">
            <div class="container mt-4">
                <h1>Our Healthcare Providers</h1>
                
                <div class="row mt-4">
                    <t t-foreach="providers" t-as="provider">
                        <div class="col-md-4 mb-4">
                            <div class="card">
                                <div class="card-body">
                                    <h4 class="card-title" t-esc="provider.name"/>
                                    <p class="card-text">
                                        <span t-esc="provider.provider_type.title()"/>
                                        <t t-if="provider.specialty"> - <span t-esc="provider.specialty"/></t>
                                    </p>
                                    <t t-if="provider.facility_ids">
                                        <p>Facilities:</p>
                                        <ul>
                                            <t t-foreach="provider.facility_ids" t-as="facility">
                                                <li t-esc="facility.name"/>
                                            </t>
                                        </ul>
                                    </t>
                                </div>
                            </div>
                        </div>
                    </t>
                </div>
            </div>
        </t>
    </template>

    <template id="facility_list_template" name="Facility List">
        <t t-call="website.layout">
            <div class="container mt-4">
                <h1>Our Healthcare Facilities</h1>
                
                <div class="row mt-4">
                    <t t-foreach="facilities" t-as="facility">
                        <div class="col-md-6 mb-4">
                            <div class="card">
                                <div class="card-body">
                                    <h4 class="card-title" t-esc="facility.name"/>
                                    <p class="card-text" t-esc="facility.facility_type.title()"/>
                                    <p class="card-text" t-esc="facility.address"/>
                                    <p class="card-text">
                                        Phone: <span t-esc="facility.phone"/>
                                    </p>
                                    <p class="card-text">
                                        Email: <span t-esc="facility.email"/>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </t>
                </div>
            </div>
        </t>
    </template>

    <template id="provider_signup_template" name="Provider Signup">
        <t t-call="website.layout">
            <div class="container mt-4">
                <h1>Healthcare Provider Signup</h1>
                
                <form method="post" class="mt-4">
                    <div class="form-group">
                        <label for="name">Full Name</label>
                        <input type="text" class="form-control" name="name" required="required"/>
                    </div>
                    
                    <div class="form-group">
                        <label for="signup_email">Email</label>
                        <input type="email" class="form-control" name="signup_email" required="required"/>
                    </div>
                    
                    <div class="form-group">
                        <label for="provider_type">Provider Type</label>
                        <select class="form-control" name="provider_type" required="required">
                            <option value="">Select Provider Type</option>
                            <option value="doctor">Doctor</option>
                            <option value="nurse">Nurse</option>
                            <option value="midwife">Midwife</option>
                            <option value="pharmacist">Pharmacist</option>
                            <option value="lab_tech">Lab Technician</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="license_number">License Number</label>
                        <input type="text" class="form-control" name="license_number"/>
                    </div>
                    
                    <div class="form-group">
                        <label for="facility_id">Facility (Optional)</label>
                        <select class="form-control" name="facility_id">
                            <option value="">Select Facility</option>
                            <t t-foreach="facilities" t-as="facility">
                                <option t-att-value="facility.id"><t t-esc="facility.name"/></option>
                            </t>
                        </select>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">Submit Application</button>
                </form>
            </div>
        </t>
    </template>

    <template id="provider_thank_you_template" name="Provider Thank You">
        <t t-call="website.layout">
            <div class="container mt-4">
                <div class="alert alert-success">
                    <h1>Thank You for Your Application!</h1>
                    <p>
                        Your provider application has been received. Our team will review 
                        your information and contact you shortly.
                    </p>
                    <a href="/" class="btn btn-primary">Return to Homepage</a>
                </div>
            </div>
        </t>
    </template>

    <template id="portal_my_mch" name="My MCH Portal">
        <t t-call="website.layout">
            <div class="container mt-4">
                <div class="row">
                    <div class="col-md-3">
                        <div class="card">
                            <div class="card-header">
                                <h3>My Health</h3>
                            </div>
                            <div class="card-body">
                                <div class="text-center mb-3">
                                    <img t-att-src="'/web/image/mch.patient/%s/image/128x128' % patient.id" 
                                         class="rounded-circle" alt="Patient Photo"/>
                                    <h4 class="mt-2" t-esc="patient.name"/>
                                </div>
                                
                                <ul class="nav flex-column">
                                    <li class="nav-item">
                                        <a class="nav-link active" href="/my/mch">Dashboard</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="/my/mch/consultations">Consultations</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="/my/mch/vaccinations">Vaccinations</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="/my/mch/prescriptions">Prescriptions</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-9">
                        <div class="card">
                            <div class="card-header">
                                <h3>Recent Consultations</h3>
                            </div>
                            <div class="card-body">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>Provider</th>
                                            <th>Facility</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <t t-foreach="consultations" t-as="consultation">
                                            <tr>
                                                <td t-esc="consultation.date"/>
                                                <td t-esc="consultation.provider_id.name"/>
                                                <td t-esc="consultation.facility_id.name"/>
                                                <td>
                                                    <span t-attf-class="badge #{consultation.state == 'completed' ? 'badge-success' : 'badge-warning'}">
                                                        <t t-esc="consultation.state.title()"/>
                                                    </span>
                                                </td>
                                            </tr>
                                        </t>
                                    </tbody>
                                </table>
                                
                                <div class="mt-3" t-if="pager['pages'] > 1">
                                    <t t-call="website.pager">
                                        <t t-set="pager" t-value="pager"/>
                                    </t>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card mt-4">
                            <div class="card-header">
                                <h3>Upcoming Vaccinations</h3>
                            </div>
                            <div class="card-body">
                                <t t-if="patient.next_vaccination_date">
                                    <p>
                                        Your next vaccination is due on 
                                        <strong t-esc="patient.next_vaccination_date"/>
                                    </p>
                                </t>
                                <t t-if="not patient.next_vaccination_date">
                                    <p>No upcoming vaccinations scheduled</p>
                                </t>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>
</odoo>