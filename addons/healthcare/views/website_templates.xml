<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="mch_homepage_template" name="MCH Homepage">
        <t t-call="website.layout">
            <!-- Simplified CSS without complex strings -->
            <style>
                .healthcare-hero {
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    color: white;
                    padding: 5rem 0;
                    position: relative;
                    overflow: hidden;
                }
                
                .hero-content {
                    position: relative;
                    z-index: 2;
                }
                
                .feature-card {
                    border: none;
                    border-radius: 20px;
                    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
                    transition: all 0.3s ease;
                    background: white;
                    overflow: hidden;
                }
                
                .feature-card:hover {
                    transform: translateY(-5px);
                    box-shadow: 0 20px 40px rgba(0,0,0,0.15);
                }
                
                .feature-icon {
                    width: 80px;
                    height: 80px;
                    background: linear-gradient(135deg, #2563eb, #8b5cf6);
                    border-radius: 20px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    margin: 0 auto 1.5rem;
                    color: white;
                    font-size: 2rem;
                }
                
                .service-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                    gap: 2rem;
                    margin: 3rem 0;
                }
                
                .service-item {
                    text-align: center;
                    padding: 2rem;
                    background: white;
                    border-radius: 15px;
                    box-shadow: 0 5px 20px rgba(0,0,0,0.08);
                    transition: all 0.3s ease;
                }
                
                .service-item:hover {
                    transform: translateY(-3px);
                    box-shadow: 0 10px 30px rgba(0,0,0,0.12);
                }
                
                .service-icon {
                    font-size: 2.5rem;
                    color: #2563eb;
                    margin-bottom: 1rem;
                }
                
                .btn-healthcare {
                    background: linear-gradient(135deg, #2563eb, #8b5cf6);
                    border: none;
                    border-radius: 50px;
                    padding: 12px 30px;
                    font-weight: 600;
                    color: white;
                    transition: all 0.3s ease;
                }
                
                .btn-healthcare:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 10px 20px rgba(37, 99, 235, 0.3);
                    color: white;
                }
                
                .stats-section {
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    color: white;
                    padding: 4rem 0;
                }
                
                .stat-number {
                    font-size: 3rem;
                    font-weight: bold;
                    color: white;
                }
                
                .gradient-bg {
                    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
                }
            </style>
            
            <!-- Hero Section -->
            <section class="healthcare-hero">
                <div class="container">
                    <div class="row align-items-center hero-content">
                        <div class="col-lg-6">
                            <h1 class="display-4 fw-bold mb-4">Caring for Generations</h1>
                            <p class="lead mb-4">Comprehensive maternal and child healthcare services with compassion and excellence. Your family's health is our priority.</p>
                            <div class="d-flex gap-3">
                                <a href="/web/login" class="btn btn-light btn-lg px-4 py-3 rounded-pill fw-semibold">
                                    <i class="fa fa-user me-2"></i>Patient Portal
                                </a>
                                <a href="/mch/provider/signup" class="btn btn-outline-light btn-lg px-4 py-3 rounded-pill fw-semibold">
                                    <i class="fa fa-stethoscope me-2"></i>Provider Join
                                </a>
                            </div>
                        </div>
                        <div class="col-lg-6 text-center">
                            <img src="/web/static/src/img/website_hero.png" class="img-fluid" alt="Healthcare Hero" style="max-height: 400px;"/>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Stats Section -->
            <section class="stats-section">
                <div class="container">
                    <div class="row text-center">
                        <div class="col-md-3 col-6 mb-4">
                            <div class="stat-number">500+</div>
                            <p class="mb-0">Qualified Providers</p>
                        </div>
                        <div class="col-md-3 col-6 mb-4">
                            <div class="stat-number">10K+</div>
                            <p class="mb-0">Happy Families</p>
                        </div>
                        <div class="col-md-3 col-6 mb-4">
                            <div class="stat-number">25+</div>
                            <p class="mb-0">Facilities</p>
                        </div>
                        <div class="col-md-3 col-6 mb-4">
                            <div class="stat-number">98%</div>
                            <p class="mb-0">Satisfaction Rate</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Services Section -->
            <section class="py-5 gradient-bg">
                <div class="container">
                    <div class="text-center mb-5">
                        <h2 class="display-5 fw-bold mb-3">Our Comprehensive Services</h2>
                        <p class="lead text-muted">From prenatal care to childhood wellness, we're here for every step</p>
                    </div>
                    
                    <div class="service-grid">
                        <div class="service-item">
                            <div class="service-icon">ü§∞</div>
                            <h4>Prenatal Care</h4>
                            <p class="text-muted">Comprehensive care for expecting mothers and their babies</p>
                        </div>
                        <div class="service-item">
                            <div class="service-icon">üíâ</div>
                            <h4>Vaccinations</h4>
                            <p class="text-muted">Complete immunization schedule for children of all ages</p>
                        </div>
                        <div class="service-item">
                            <div class="service-icon">üçé</div>
                            <h4>Nutrition</h4>
                            <p class="text-muted">Expert guidance on maternal and child nutrition</p>
                        </div>
                        <div class="service-item">
                            <div class="service-icon">üß†</div>
                            <h4>Development</h4>
                            <p class="text-muted">Monitoring and support for child development milestones</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- CTA Section -->
            <section class="py-5">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-lg-6">
                            <h2 class="fw-bold mb-4">Ready to Get Started?</h2>
                            <p class="lead mb-4">Join thousands of families who trust us with their healthcare needs. Schedule your appointment today.</p>
                            <div class="d-flex gap-3">
                                <a href="/mch/providers" class="btn btn-healthcare">
                                    <i class="fa fa-search me-2"></i>Find a Provider
                                </a>
                                <a href="/mch/facilities" class="btn btn-outline-primary">
                                    <i class="fa fa-map-marker me-2"></i>Find a Facility
                                </a>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <img src="/web/static/src/img/website_cta.png" class="img-fluid rounded-3" alt="Healthcare Team"/>
                        </div>
                    </div>
                </div>
            </section>
        </t>
    </template>

    <template id="provider_list_template" name="Provider List">
        <t t-call="website.layout">
            <style>
                .provider-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                    gap: 2rem;
                    margin: 3rem 0;
                }
                
                .filter-section {
                    background: white;
                    padding: 2rem;
                    border-radius: 15px;
                    box-shadow: 0 5px 20px rgba(0,0,0,0.08);
                    margin-bottom: 3rem;
                }
                
                .provider-card {
                    border: none;
                    border-radius: 15px;
                    box-shadow: 0 5px 20px rgba(0,0,0,0.08);
                    transition: all 0.3s ease;
                    overflow: hidden;
                }
                
                .provider-card:hover {
                    transform: translateY(-3px);
                    box-shadow: 0 10px 30px rgba(0,0,0,0.12);
                }
            </style>

            <section class="py-5" style="background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%); min-height: 100vh;">
                <div class="container">
                    <div class="text-center mb-5">
                        <h1 class="display-5 fw-bold">Meet Our Healthcare Providers</h1>
                        <p class="lead text-muted">Experienced professionals dedicated to your family's health</p>
                    </div>

                    <div class="filter-section">
                        <div class="row">
                            <div class="col-md-4">
                                <input type="text" class="form-control" placeholder="Search providers..." id="providerSearch"/>
                            </div>
                            <div class="col-md-4">
                                <select class="form-control" id="specialtyFilter">
                                    <option value="">All Specialties</option>
                                    <option value="doctor">Doctor</option>
                                    <option value="nurse">Nurse</option>
                                    <option value="midwife">Midwife</option>
                                </select>
                            </div>
                            <div class="col-md-4">
                                <select class="form-control" id="facilityFilter">
                                    <option value="">All Facilities</option>
                                    <t t-foreach="facilities" t-as="facility">
                                        <option t-att-value="facility.id"><t t-esc="facility.name"/></option>
                                    </t>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="provider-grid">
                        <t t-foreach="providers" t-as="provider">
                            <div class="provider-card">
                                <div class="card-body text-center p-4">
                                    <div style="width: 80px; height: 80px; background: linear-gradient(135deg, #2563eb, #8b5cf6); border-radius: 20px; display: flex; align-items: center; justify-content: center; margin: 0 auto 1.5rem; color: white; font-size: 2rem;">
                                        <i class="fa fa-user-md"></i>
                                    </div>
                                    <h4 class="card-title fw-bold" t-esc="provider.name"/>
                                    <p class="text-primary mb-2">
                                        <!-- FIXED: Handle empty provider_type -->
                                        <t t-if="provider.provider_type">
                                            <span t-esc="provider.provider_type.title()"/>
                                            <t t-if="provider.specialty"> - <span t-esc="provider.specialty"/></t>
                                        </t>
                                        <t t-else="">
                                            Healthcare Provider
                                            <t t-if="provider.specialty"> - <span t-esc="provider.specialty"/></t>
                                        </t>
                                    </p>
                                    <t t-if="provider.facility_id">
                                        <p class="text-muted mb-2">
                                            <i class="fa fa-map-marker-alt me-2"></i>
                                            <span t-esc="provider.facility_id.name"/>
                                        </p>
                                    </t>
                                    <a href="#" class="btn btn-outline-primary btn-sm">View Profile</a>
                                </div>
                            </div>
                        </t>
                    </div>
                </div>
            </section>
        </t>
    </template>

    <template id="facility_list_template" name="Facility List">
        <t t-call="website.layout">
            <style>
                .facility-card {
                    border: none;
                    border-radius: 20px;
                    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
                    transition: all 0.3s ease;
                    overflow: hidden;
                }
                
                .facility-card:hover {
                    transform: translateY(-5px);
                    box-shadow: 0 20px 40px rgba(0,0,0,0.15);
                }
                
                .facility-image {
                    height: 200px;
                    object-fit: cover;
                    width: 100%;
                }
            </style>

            <section class="py-5" style="background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);">
                <div class="container">
                    <div class="text-center mb-5">
                        <h1 class="display-5 fw-bold">Our Healthcare Facilities</h1>
                        <p class="lead text-muted">State-of-the-art facilities equipped with modern technology</p>
                    </div>

                    <div class="row">
                        <t t-foreach="facilities" t-as="facility">
                            <div class="col-lg-4 col-md-6 mb-4">
                                <div class="facility-card">
                                    <img src="/web/static/src/img/website_facility.png" class="facility-image" alt="Facility"/>
                                    <div class="card-body p-4">
                                        <h4 class="fw-bold" t-esc="facility.name"/>
                                        <p class="text-primary mb-2">
                                            <span t-esc="facility.facility_type.title()"/>
                                        </p>
                                        <p class="text-muted mb-2">
                                            <i class="fa fa-map-marker-alt me-2"></i>
                                            <span t-esc="facility.address"/>
                                        </p>
                                        <p class="text-muted mb-2">
                                            <i class="fa fa-phone me-2"></i>
                                            <span t-esc="facility.phone"/>
                                        </p>
                                        <p class="text-muted mb-3">
                                            <i class="fa fa-envelope me-2"></i>
                                            <span t-esc="facility.email"/>
                                        </p>
                                        <a href="#" class="btn" style="background: linear-gradient(135deg, #2563eb, #8b5cf6); border: none; border-radius: 50px; padding: 8px 20px; font-weight: 600; color: white;">Get Directions</a>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </div>
                </div>
            </section>
        </t>
    </template>

    <template id="provider_signup_template" name="Provider Signup">
        <t t-call="website.layout">
            <style>
                .modern-form {
                    background: white;
                    border-radius: 20px;
                    padding: 3rem;
                    box-shadow: 0 10px 40px rgba(0,0,0,0.1);
                }
            </style>

            <section class="py-5" style="background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%); min-height: 100vh;">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-lg-8">
                            <div class="modern-form">
                                <div class="text-center mb-4">
                                    <h1 class="display-5 fw-bold">Join Our Healthcare Network</h1>
                                    <p class="text-muted">Become part of our dedicated team of healthcare professionals</p>
                                </div>

                                <form method="post" class="mt-4">
                                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                    
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label fw-semibold">Full Name *</label>
                                            <input type="text" class="form-control" name="name" required="required" placeholder="Enter your full name"/>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label fw-semibold">Email Address *</label>
                                            <input type="email" class="form-control" name="email" required="required" placeholder="your.email@example.com"/>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label fw-semibold">Provider Type *</label>
                                            <select class="form-control" name="provider_type" required="required">
                                                <option value="">Select Your Profession</option>
                                                <option value="doctor">Medical Doctor</option>
                                                <option value="nurse">Registered Nurse</option>
                                                <option value="midwife">Certified Midwife</option>
                                                <option value="pharmacist">Pharmacist</option>
                                                <option value="lab_tech">Lab Technician</option>
                                            </select>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label class="form-label fw-semibold">License Number</label>
                                            <input type="text" class="form-control" name="license_number" placeholder="Your professional license number"/>
                                        </div>
                                    </div>

                                    <div class="mb-4">
                                        <label class="form-label fw-semibold">Facility *</label>
                                        <select class="form-control" name="facility_id" required="required">
                                            <option value="">Select a Facility</option>
                                            <t t-foreach="facilities" t-as="facility">
                                                <option t-att-value="facility.id">
                                                    <t t-esc="facility.name"/> - <t t-esc="facility.facility_type.title()"/>
                                                </option>
                                            </t>
                                        </select>
                                    </div>

                                    <button type="submit" class="btn w-100 py-3 fw-semibold" style="background: linear-gradient(135deg, #2563eb, #8b5cf6); border: none; border-radius: 50px; color: white;">
                                        <i class="fa fa-paper-plane me-2"></i>Submit Application
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </t>
    </template>

    <template id="provider_thank_you_template" name="Provider Thank You">
        <t t-call="website.layout">
            <section class="py-5" style="background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%); min-height: 100vh;">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-lg-6 text-center">
                            <div class="modern-form">
                                <div style="width: 80px; height: 80px; background: linear-gradient(135deg, #10b981, #059669); border-radius: 20px; display: flex; align-items: center; justify-content: center; margin: 0 auto 1.5rem; color: white; font-size: 2rem;">
                                    <i class="fa fa-check"></i>
                                </div>
                                <h1 class="display-5 fw-bold text-success mb-3">Application Received!</h1>
                                <p class="lead mb-4">
                                    Thank you for your interest in joining our healthcare network. 
                                    Our team will review your application and contact you within 2-3 business days.
                                </p>
                                <div class="d-flex gap-3 justify-content-center">
                                    <a href="/" class="btn" style="background: linear-gradient(135deg, #2563eb, #8b5cf6); border: none; border-radius: 50px; padding: 12px 30px; font-weight: 600; color: white;">
                                        <i class="fa fa-home me-2"></i>Return Home
                                    </a>
                                    <a href="/mch/providers" class="btn btn-outline-primary">
                                        <i class="fa fa-user-md me-2"></i>Meet Our Team
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </t>
    </template>

    <!-- Action Records -->
    <record id="mch_provider_website_action" model="ir.actions.act_url">
        <field name="name">Our Providers</field>
        <field name="url">/mch/providers</field>
        <field name="target">self</field>
    </record>

    <record id="mch_facility_website_action" model="ir.actions.act_url">
        <field name="name">Our Facilities</field>
        <field name="url">/mch/facilities</field>
        <field name="target">self</field>
    </record>

    <record id="mch_provider_signup_action" model="ir.actions.act_url">
        <field name="name">Provider Signup</field>
        <field name="url">/mch/provider/signup</field>
        <field name="target">self</field>
    </record>
</odoo>